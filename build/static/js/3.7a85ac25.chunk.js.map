{"version":3,"sources":["components/ArticleNews/index.js","components/Loader/index.js","components/NewsData/NewsData.js"],"names":["ArticlesNews","item","elementRef","useNearScreen","distance","ref","className","href","url","rel","target","src","urlToImage","alt","title","author","Loader","apiKeyNews","NewsData","props","keyword","current","label","updateKeyword","useState","news","setNews","newsSlice","setNewsSlice","loader","setLoader","classError","setClassError","sliceArray","useCallback","array","start","end","slice","useEffect","prev","a","urlNews","getDataFetch","data","totalResults","setTimeout","dataSlice","articles","getNews","catch","error","Error","Form","placeHolder","classButton","IterateArray","property","Component","page"],"mappings":"yPA0BeA,MAtBf,YAA+B,IAARC,EAAO,EAAPA,KACdC,EAAaC,YAAc,CAACC,SAAU,QAAtCF,WACP,OACE,yBAAKG,IAAKH,EAAYI,UAAU,oBAC9B,uBAAGC,KAAMN,EAAKO,IAAKC,IAAI,sBAAsBC,OAAO,UAClD,yBAAKJ,UAAU,YACb,yBAAKA,UAAU,wBACb,yBAAKK,IAAKV,EAAKW,WAAYC,IAAKZ,EAAKa,SAEvC,yBAAKR,UAAU,gCACb,2BAAIL,EAAKa,OACT,yBAAKR,UAAU,2BACb,oCACA,0BAAMA,UAAU,gCAAgCL,EAAKc,c,MCFpDC,MAZf,WACE,OACE,yBAAKV,UAAU,YACb,8BACA,8BACA,8BACA,gC,QCAAW,G,MAAa,oCAmFJC,UAjFf,SAAkBC,GAAQ,IAAD,EAMnBA,EAJFC,eAFqB,MAEX,UAFW,EAGrBC,EAGEF,EAHFE,QACAC,EAEEH,EAFFG,MACAC,EACEJ,EADFI,cALqB,EAQCC,mBAAS,IARV,mBAQhBC,EARgB,KAQVC,EARU,OASWF,mBAAS,IATpB,mBAShBG,EATgB,KASLC,EATK,OAUKJ,oBAAS,GAVd,mBAUhBK,EAVgB,KAURC,EAVQ,OAWaN,mBAAS,IAXtB,mBAWhBO,EAXgB,KAWJC,EAXI,KAcjBC,EAAaC,uBACjB,SAACC,GACC,IAAMC,EAJI,EAIIf,EACRgB,EALI,EAKUD,EAEpB,OADcD,EAAMG,MAAMF,EAAOC,KAGnC,CAAChB,IA8BH,OA3BAkB,qBAAU,WACR,GAAgB,IAAZlB,EAAJ,CACA,IAAMiB,EAAQL,EAAWN,GACzBD,GAAQ,SAACc,GAAD,4BAAcA,GAAd,YAAuBF,UAC9B,CAACjB,EAASM,EAAWM,IAExBM,qBAAU,WAAM,4CAEd,gCAAAE,EAAA,6DACQC,EADR,6CACwDtB,EADxD,qDAC4GH,GAC1Ga,GAAU,GAFZ,SAGqBa,YAAaD,GAHlC,UAI2B,KADnBE,EAHR,QAIUC,aAJV,uBAKIb,EAAc,SACdc,YAAW,WACTd,EAAc,MACb,KARP,0BAWQe,EAAYd,EAAWW,EAAKI,UAClCtB,EAAQqB,GACRnB,EAAagB,EAAKI,UAClBlB,GAAU,GAdZ,6CAFc,sBACE,IAAZT,GADU,0CAkBd4B,GAAUC,OAAM,SAACC,GAAW,MAAM,IAAIC,MAAMD,QAC3C,CAAC9B,EAASD,EAASa,IAGpB,oCACA,yBAAK3B,UAAU,4BACX,kBAAC+C,EAAA,EAAD,CACE9B,cAAeA,EACfD,MAAOA,EACPgC,YAAa,kBACbvB,WAAYA,EACZwB,YAAa,qBAGjB,yBAAKjD,UAAU,gCACZuB,EAAS,kBAAC,EAAD,MACR,kBAAC2B,EAAA,EAAD,CACErB,MAAOV,EACPgC,SAAU,UACVC,UAAW1D,EACX2D,KAAMtC","file":"static/js/3.7a85ac25.chunk.js","sourcesContent":["import React from \"react\"\nimport \"./ArticlesNews.css\"\nimport useNearScreen from \"../../hooks/useNearScreen\"\n\nfunction ArticlesNews({item}) {\n  const {elementRef}= useNearScreen({distance: \"0px\"})\n  return (\n    <div ref={elementRef} className=\"content-articles\">\n      <a href={item.url} rel=\"noreferrer noopener\" target=\"_blank\">\n        <div className=\"articles\">\n          <div className=\"articles-content-img\">\n            <img src={item.urlToImage} alt={item.title}></img>\n          </div>\n          <div className=\"articles-content-description\">\n            <p>{item.title}</p>\n            <div className=\"articles-content-author\">\n              <span>by</span>\n              <span className=\"articles-content-author-name\">{item.author}</span>\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  )\n}\n\nexport default ArticlesNews","import React from \"react\"\nimport \"./Loader.css\"\n\nfunction Loader() {\n  return (\n    <div className=\"lds-ring\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  )\n}\n\nexport default Loader","import React, { useEffect, useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport getDataFetch from \"../../services\";\nimport IterateArray from \"../../utils/IterateArray\";\nimport ArticlesNews from \"../ArticleNews\";\nimport Loader from \"../Loader\";\nimport Form from \"../../components/Form\"\nimport \"./NewsData.css\";\n\nconst apiKeyNews = \"28d89ba563644bf397ab0a8e7b46fa4d\";\n\nfunction NewsData(props) {\n  const {\n    keyword = \"bitcoin\", \n    current,\n    label,\n    updateKeyword, \n  } = props\n\n  const [news, setNews] = useState([]);\n  const [newsSlice, setNewsSlice] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [classError, setClassError] = useState(\"\");\n  const index = 3;\n\n  const sliceArray = useCallback(\n    (array) => {\n      const start = current * index;\n      const end = index + start;\n      const slice = array.slice(start, end);\n      return slice;\n    },\n    [current]\n  );\n\n  useEffect(() => {\n    if (current === 0) return;\n    const slice = sliceArray(newsSlice);\n    setNews((prev) => [...prev, ...slice]);\n  }, [current, newsSlice, sliceArray]);\n\n  useEffect(() => {\n    if (current !== 0) return;\n    async function getNews() {\n      const urlNews = `http://newsapi.org/v2/everything?q=${keyword}&from=2020-09-23&sortBy=popularity&apiKey=${apiKeyNews}`;\n      setLoader(true);\n      const data = await getDataFetch(urlNews);\n      if(data.totalResults === 0) {\n        setClassError(\"error\")\n        setTimeout(() => {\n          setClassError(\"\") \n        }, 800);\n        return\n      }\n      const dataSlice = sliceArray(data.articles);\n      setNews(dataSlice);\n      setNewsSlice(data.articles);\n      setLoader(false);\n    }\n    getNews().catch((error) => {throw new Error(error)});\n  }, [current, keyword, sliceArray]);\n\n  return (\n    <>\n    <div className=\"App-section-content-form\">\n        <Form\n          updateKeyword={updateKeyword} \n          label={label}\n          placeHolder={\"apple, ethereum\"}\n          classError={classError} \n          classButton={\"button-add-news\"}\n        />\n      </div>\n      <div className=\"App-section-content-articles\">\n        {loader ? <Loader /> : \n          <IterateArray\n            array={news}\n            property={\"content\"}\n            Component={ArticlesNews}\n            page={current}\n          />\n        }\n      </div>\n    </>\n  );\n}\n\nNewsData.propTypes = {\n  keyword: PropTypes.string,\n  current: PropTypes.number,\n};\n\nexport default NewsData;\n"],"sourceRoot":""}