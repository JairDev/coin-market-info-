{"version":3,"sources":["components/ArticleNews/index.js","components/Loader/index.js","components/NewsData/NewsData.js"],"names":["ArticlesNews","item","elementRef","useNearScreen","distance","ref","className","href","url","rel","target","src","image","alt","title","source","name","Loader","apiKeyNews","NewsData","label","keyword","updateKeyword","current","useState","news","setNews","newsSlice","setNewsSlice","loader","setLoader","classError","setClassError","sliceArray","useCallback","array","start","end","slice","useEffect","prev","a","urlNews","getDataFetch","data","totalArticles","setTimeout","dataSlice","articles","getNews","catch","error","Error","Form","placeHolder","classButton","IterateArray","property","Component","page"],"mappings":"yPA4BeA,MAxBf,YAAiC,IAATC,EAAQ,EAARA,KACdC,EAAeC,YAAc,CAAEC,SAAU,QAAzCF,WACR,OACE,yBAAKG,IAAKH,EAAYI,UAAU,oBAC9B,uBAAGC,KAAMN,EAAKO,IAAKC,IAAI,sBAAsBC,OAAO,UAClD,yBAAKJ,UAAU,YACb,yBAAKA,UAAU,wBACb,yBAAKK,IAAKV,EAAKW,MAAOC,IAAKZ,EAAKa,SAElC,yBAAKR,UAAU,gCACb,2BAAIL,EAAKa,OACT,yBAAKR,UAAU,2BACb,oCACA,0BAAMA,UAAU,gCACbL,EAAKc,OAAOC,Y,MCHdC,MAZf,WACE,OACE,yBAAKX,UAAU,YACb,8BACA,8BACA,8BACA,gC,QCAAY,G,MAAa,oCAgFJC,UA9Ef,YAA2E,IAAvDC,EAAsD,EAAtDA,MAAsD,IAA/CC,eAA+C,MAArC,UAAqC,EAA1BC,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,QAAW,EAChDC,mBAAS,IADuC,mBACjEC,EADiE,KAC3DC,EAD2D,OAEtCF,mBAAS,IAF6B,mBAEjEG,EAFiE,KAEtDC,EAFsD,OAG5CJ,oBAAS,GAHmC,mBAGjEK,EAHiE,KAGzDC,EAHyD,OAIpCN,mBAAS,IAJ2B,mBAIjEO,EAJiE,KAIrDC,EAJqD,KAOlEC,EAAaC,uBACjB,SAACC,GACC,IAAMC,EAJI,EAIIb,EACRc,EALI,EAKUD,EAEpB,OADcD,EAAMG,MAAMF,EAAOC,KAGnC,CAACd,IAgCH,OA7BAgB,qBAAU,WACR,GAAgB,IAAZhB,EAAJ,CACA,IAAMe,EAAQL,EAAWN,GACzBD,GAAQ,SAACc,GAAD,4BAAcA,GAAd,YAAuBF,UAC9B,CAACf,EAASI,EAAWM,IAExBM,qBAAU,WAAM,4CAEd,gCAAAE,EAAA,6DACQC,EADR,2CACsDrB,EADtD,iCACsFH,GACpFY,GAAU,GAFZ,SAGqBa,YAAaD,GAHlC,UAI6B,KADrBE,EAHR,QAIWC,cAJX,uBAKIb,EAAc,SACdc,YAAW,WACTd,EAAc,MACb,KARP,0BAWQe,EAAYd,EAAWW,EAAKI,UAClCtB,EAAQqB,GACRnB,EAAagB,EAAKI,UAClBlB,GAAU,GAdZ,6CAFc,sBACE,IAAZP,GADU,0CAkBd0B,GAAUC,OAAM,SAACC,GACf,MAAM,IAAIC,MAAMD,QAEjB,CAAC5B,EAASF,EAASY,IAGpB,oCACE,yBAAK3B,UAAU,4BACb,kBAAC+C,EAAA,EAAD,CACE/B,cAAeA,EACfF,MAAOA,EACPkC,YAAa,kBACbvB,WAAYA,EACZwB,YAAa,qBAGjB,yBAAKjD,UAAU,gCACZuB,EACC,kBAAC,EAAD,MAEA,kBAAC2B,EAAA,EAAD,CACErB,MAAOV,EACPgC,SAAU,QACVC,UAAW1D,EACX2D,KAAMpC","file":"static/js/3.277bd54d.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./ArticlesNews.css\";\nimport useNearScreen from \"../../hooks/useNearScreen\";\n\nfunction ArticlesNews({ item }) {\n  const { elementRef } = useNearScreen({ distance: \"0px\" });\n  return (\n    <div ref={elementRef} className=\"content-articles\">\n      <a href={item.url} rel=\"noreferrer noopener\" target=\"_blank\">\n        <div className=\"articles\">\n          <div className=\"articles-content-img\">\n            <img src={item.image} alt={item.title}></img>\n          </div>\n          <div className=\"articles-content-description\">\n            <p>{item.title}</p>\n            <div className=\"articles-content-author\">\n              <span>by</span>\n              <span className=\"articles-content-author-name\">\n                {item.source.name}\n              </span>\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n\nexport default ArticlesNews;\n","import React from \"react\"\nimport \"./Loader.css\"\n\nfunction Loader() {\n  return (\n    <div className=\"lds-ring\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  )\n}\n\nexport default Loader","import React, { useEffect, useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport getDataFetch from \"../../services\";\nimport IterateArray from \"../../utils/IterateArray\";\nimport ArticlesNews from \"../ArticleNews\";\nimport Loader from \"../Loader\";\nimport Form from \"../../components/Form\";\nimport \"./NewsData.css\";\n\nconst apiKeyNews = \"69927d6b98c03af209c1e8961b1ff94e\";\n\nfunction NewsData({ label, keyword = \"bitcoin\", updateKeyword, current }) {\n  const [news, setNews] = useState([]);\n  const [newsSlice, setNewsSlice] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [classError, setClassError] = useState(\"\");\n  const index = 3;\n\n  const sliceArray = useCallback(\n    (array) => {\n      const start = current * index;\n      const end = index + start;\n      const slice = array.slice(start, end);\n      return slice;\n    },\n    [current]\n  );\n\n  useEffect(() => {\n    if (current === 0) return;\n    const slice = sliceArray(newsSlice);\n    setNews((prev) => [...prev, ...slice]);\n  }, [current, newsSlice, sliceArray]);\n\n  useEffect(() => {\n    if (current !== 0) return;\n    async function getNews() {\n      const urlNews = `https://gnews.io/api/v4/search?q=${keyword}&lang=en&max=10&token=${apiKeyNews}`;\n      setLoader(true);\n      const data = await getDataFetch(urlNews);\n      if (data.totalArticles === 0) {\n        setClassError(\"error\");\n        setTimeout(() => {\n          setClassError(\"\");\n        }, 800);\n        return;\n      }\n      const dataSlice = sliceArray(data.articles);\n      setNews(dataSlice);\n      setNewsSlice(data.articles);\n      setLoader(false);\n    }\n    getNews().catch((error) => {\n      throw new Error(error);\n    });\n  }, [current, keyword, sliceArray]);\n\n  return (\n    <>\n      <div className=\"App-section-content-form\">\n        <Form\n          updateKeyword={updateKeyword}\n          label={label}\n          placeHolder={\"apple, ethereum\"}\n          classError={classError}\n          classButton={\"button-add-news\"}\n        />\n      </div>\n      <div className=\"App-section-content-articles\">\n        {loader ? (\n          <Loader />\n        ) : (\n          <IterateArray\n            array={news}\n            property={\"title\"}\n            Component={ArticlesNews}\n            page={current}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nNewsData.propTypes = {\n  keyword: PropTypes.string,\n  current: PropTypes.number,\n};\n\nexport default NewsData;\n"],"sourceRoot":""}